Querys.suit.getSuitPriceList = \
SELECT * \
FROM ( \
    SELECT ROWNUM AS RNUM,TT.AFFAIRNUM,TT.LAWSUITPRICE,TT.PNU,TT.SUM,TO_CHAR(TT.CHGDATE,'YYYYMMDD') AS CHGDATE,TO_CHAR(TT.REGISTDATE,'YYYYMMDD') AS REGISTDATE, \
           TT.SUITOR_NAME||DECODE(TT.SUITOR_COUNT,0,'','\uc678 '||TT.SUITOR_COUNT||'\uba85') AS NAME, \
           (SELECT DISTINCT GU_NM||' '||BJ_NM FROM REF_DONGCODE WHERE SI_CD||GU_CD||BJ_CD = SUBSTR(TT.PNU,1,10)) \
           ||' '||TO_NUMBER(SUBSTR(TT.PNU,12,4))||'-'||TO_NUMBER(SUBSTR(TT.PNU,16,4))||' / '||TT.LAWSUITAREA||'\u33a1' AS SUITLAND \
    FROM( \
        SELECT \
            T.AFFAIRNUM,T.LAWSUITPRICE,T.PNU,T.LAWSUITAREA, \
            (SELECT SUM(LP.SUM) FROM LAWSUIT_PRICE LP WHERE T.AFFAIRNUM = LP.AFFAIRNUM(+) AND T.PNU = LP.PNU(+) AND LP.GUBUN = '2') AS SUM, \
            (SELECT MAX(LP.CHGDATE) FROM LAWSUIT_PRICE LP WHERE T.AFFAIRNUM = LP.AFFAIRNUM(+) AND T.PNU = LP.PNU(+) AND LP.GUBUN = '2') AS CHGDATE, \
            (SELECT MAX(LP.REGISTDATE) FROM LAWSUIT_PRICE LP WHERE T.AFFAIRNUM = LP.AFFAIRNUM(+) AND T.PNU = LP.PNU(+) AND LP.GUBUN = '2') AS REGISTDATE, \
         (SELECT S.NAME FROM SUITOR S WHERE S.AFFAIRNUM = T.AFFAIRNUM AND S.GUBUN='1' AND S.ISMAIN = '1') AS SUITOR_NAME, \
         (SELECT COUNT(S.NAME) FROM SUITOR S WHERE S.AFFAIRNUM = T.AFFAIRNUM AND S.GUBUN='1' AND S.ISMAIN = '2') AS SUITOR_COUNT \
        FROM ( \
            SELECT L.AFFAIRNUM,L.LAWSUITPRICE,LL.PNU,LL.LAWSUITAREA \
            FROM LAWSUIT L,LAND_LAWSUIT LL \
            WHERE LL.AFFAIRNUM = L.AFFAIRNUM \
        ) T,(SELECT DISTINCT AFFAIRNUM FROM SUITOR WHERE NAME LIKE ? AND GUBUN = '1') ST \
        WHERE T.AFFAIRNUM = ST.AFFAIRNUM \
        AND T.AFFAIRNUM LIKE ? \
        GROUP BY T.AFFAIRNUM,T.LAWSUITPRICE,T.PNU,T.LAWSUITAREA \
        ORDER BY T.AFFAIRNUM,T.PNU \
    ) TT \
) \
WHERE RNUM > (?-1)*? AND ROWNUM <= ? \

Querys.suit.getSuitPriceCount = \
    SELECT COUNT(TT.AFFAIRNUM) \
    FROM( \
        SELECT T.AFFAIRNUM,T.LAWSUITPRICE,T.PNU,T.LAWSUITAREA,SUM(LP.SUM) AS SUM,MAX(LP.CHGDATE) AS CHGDATE,MAX(LP.REGISTDATE) AS REGISTDATE, \
         (SELECT S.NAME FROM SUITOR S WHERE S.AFFAIRNUM = T.AFFAIRNUM AND S.GUBUN='1' AND S.ISMAIN = '1') AS SUITOR_NAME, \
         (SELECT COUNT(S.NAME) FROM SUITOR S WHERE S.AFFAIRNUM = T.AFFAIRNUM AND S.GUBUN='1' AND S.ISMAIN = '2') AS SUITOR_COUNT \
        FROM ( \
            SELECT L.AFFAIRNUM,L.LAWSUITPRICE,LL.PNU,LL.LAWSUITAREA \
            FROM LAWSUIT L,LAND_LAWSUIT LL \
            WHERE LL.AFFAIRNUM = L.AFFAIRNUM \
        ) T,LAWSUIT_PRICE LP,(SELECT DISTINCT AFFAIRNUM FROM SUITOR WHERE NAME LIKE ? AND GUBUN = '1') ST \
        WHERE T.AFFAIRNUM = LP.AFFAIRNUM(+) \
        AND T.PNU = LP.PNU(+) \
        AND T.AFFAIRNUM = ST.AFFAIRNUM \
        AND T.AFFAIRNUM LIKE ? \
        GROUP BY T.AFFAIRNUM,T.LAWSUITPRICE,T.PNU,T.LAWSUITAREA \
    ) TT \
    
    
Querys.suit.getSuitPriceView = \
SELECT \
    T.AFFAIRNUM,T.AFFAIRNAME,T.UNFAIRPROFIT,T.LAWSUITAREA,T.PNU,T.LAWSUITPRICE,T.UNITCOST, \
    (SELECT SUM(LP.SUM) FROM LAWSUIT_PRICE LP WHERE T.AFFAIRNUM = LP.AFFAIRNUM(+) AND T.PNU = LP.PNU(+) AND LP.GUBUN = '2') AS SUM, \
    (SELECT DISTINCT GU_NM||' '||BJ_NM FROM REF_DONGCODE WHERE SI_CD||GU_CD||BJ_CD = SUBSTR(T.PNU,1,10)) \
       ||' '||TO_NUMBER(SUBSTR(T.PNU,12,4))||'-'||TO_NUMBER(SUBSTR(T.PNU,16,4))||' / '||T.LAWSUITAREA||'\u33a1' AS SUITLAND \
FROM ( \
    SELECT \
        L.AFFAIRNUM,L.AFFAIRNAME,L.UNFAIRPROFIT,LL.LAWSUITAREA,LL.PNU, \
        L.LAWSUITPRICE,L.UNITCOST \
    FROM \
        LAWSUIT L, LAND_LAWSUIT LL \
    WHERE LL.AFFAIRNUM = L.AFFAIRNUM \
        AND LL.AFFAIRNUM = ? \
        AND LL.PNU = ? \
    ) T \

Querys.suit.getSuitPriceViewList = \
SELECT AFFAIRNUM,LAWSUITSEQ,PNU,SOURCE,UNFAIRPROFIT,STARTDAY,ENDDAY,RATE,DAYCNT,SUM, \
TO_CHAR(CHGDATE,'YYYYMMDD') AS CHGDATE,TO_CHAR(REGISTDATE,'YYYYMMDD') AS REGISTDATE,ISFINAL,UNFAIRNUM,GUBUN,MONTHFARE,MONTHCNT \
FROM LAWSUIT_PRICE WHERE AFFAIRNUM = ? AND PNU = ? AND GUBUN = '2' ORDER BY REGISTDATE DESC \

Querys.suit.setSuitPriceViewModify = \
UPDATE LAWSUIT SET LAWSUITPRICE = ?,UNFAIRPROFIT = ?  WHERE AFFAIRNUM = ? \

Querys.suit.setSuitPriceViewListReCal = \
UPDATE LAWSUIT_PRICE SET UNFAIRPROFIT=?, SUM=ROUND(TO_NUMBER(?)*(RATE/100)*(DAYCNT/365),0) WHERE AFFAIRNUM = ? AND PNU = ? AND GUBUN ='2' \

Querys.suit.setSuitPriceViewListModify = \
UPDATE LAWSUIT_PRICE SET STARTDAY=?,ENDDAY=?,RATE=?,DAYCNT=?,SUM=?,CHGDATE=SYSDATE \
WHERE AFFAIRNUM = ? AND PNU = ? AND LAWSUITSEQ = ? AND GUBUN = '2' \

Querys.suit.setSuitPriceViewListAdd = \
INSERT INTO LAWSUIT_PRICE(AFFAIRNUM,LAWSUITSEQ,PNU,UNFAIRPROFIT,STARTDAY,ENDDAY,RATE,DAYCNT,SUM,CHGDATE,REGISTDATE,GUBUN) \
VALUES(?,(SELECT MAX(TO_NUMBER(LAWSUITSEQ))+1 FROM LAWSUIT_PRICE),?,?,?,?,?,?,?,SYSDATE,SYSDATE,'2') \

Querys.suit.setSuitPriceViewListRemove = \
DELETE FROM LAWSUIT_PRICE WHERE AFFAIRNUM = ? AND PNU = ? AND LAWSUITSEQ = ? \
